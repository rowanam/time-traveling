{% extends "base.html" %}

{% block styles %}

<!-- Leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css">

{% endblock %}


{% block content %}

<div class="container trip-detail-container">
    <div class="row">
        <div class="col">
            <h1>{{ trip.title }}</h1>
        </div>
    </div>
    <div class="row">
        <div class="col-4">
            {% if trip.start_date and trip.end_date %}
            <p class="trip-detail-dates">{{ trip.start_date }} - {{ trip.end_date }}</p>
            {% endif %}

            <ul class="trip-timeline">
                {% for location in locations %}
                <li class="trip-timeline-item">{{ location.name }}</li>
                {% endfor %}
            </ul>
        </div>
        <div class="col-8">
            <div class="trip-map" id="map"></div>
        </div>
    </div>
</div>

{% endblock %}


{% block scripts %}

{% load static %}

<!-- Leaflet -->
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

<!-- Coordinates stored as JSON -->
{{ coordinates|json_script:"coordinates" }}

<script src="{% static 'js/trip_map.js' %}"></script>

{% endblock %}